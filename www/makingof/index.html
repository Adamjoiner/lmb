<!DOCTYPE html>
<html>
<head>
    
<meta charset=utf-8 />
<meta name="author" content="CERN LineMode Crew 2013" />
<meta name="description" content="All about remaking the line mode browser." />
<!-- CONTROL SCALE FOR MOBILE DEVICES IF NEEDED -->
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />

<title>Behind the scenes building a line-mode browser in 2013</title>

<link href="../css/gridset.css" rel="stylesheet" />
<link href="../css/main.css" rel="stylesheet" />


<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic|PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'>

<!--[if IE 6]><link href="./css/ie-6.css" rel="stylesheet" /><![endif]-->
<!--[if lte IE 8 & !IEMobile]><link href="./css/ie-old.css" rel="stylesheet" /><![endif]-->
<!--[if IEMobile]><link href="./css/ie-mobile.css" rel="stylesheet" /><![endif]--> 

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<!--[if lte IE 8]><script src="./js/html5.js"></script><![endif]-->

<link rel="shortcut icon" href="./images/favicon.ico" />


</head>
<body style="background-color: #f7f7f7">
	
	<!--
	<nav>
		<a href="#">Continue to main site &rarr;</a>
	</nav>
	-->
	
	<div class="headfill" style="background-image: url(../img/makingof-header.jpg);"></div>

	<div class="wrapper">
		

		<header class="clearfix">
			<!--h1>
				<a href="http://cern.ch">Cern</a>
			</h1-->
		</header>
		
		<div id="content" class="clearfix" style="margin-top: -200px; background-color: #f7f7f7; padding: 20px; border-radius: 3px;">
		
			<section class="d-all">
				<!--h4 class="date">Geneva, 30 April 2013</h4-->

				<h1>Making of LMB 2013</h1>
				<h2>Rebuilding a tin shack using carbon fiber while juggling atop a moving bus — +handlebarmustache</h2>
				<nav>
					<ul>
						<li class="lmb"><a href="./lmb/">Launch Line Mode Browser</a></li>
						<li><a href="../">Home</a></li>
						<li><a href="interviews/">Interviews</a></li>
						<li><a href="lmb-tech/">Making of</a></li>
						<li><a href="resoruces/">Resources</a></li>
					</ul>
				</nav>

					<article>
						<div class="d-all">
							<p class="standfirst">In late September, 2013, twelve web developers, designers, writers, standardistas, and technologists descended upon CERN — the birthplace of WWW and HTTP and the web browser — to spend two days rebuilding the line-mode browser. This is our story.</p>
						</div>
						
					</article>
					
					
					<article class="d-all">

						<h3>Preservationistas</h3>

						<p>We hear you ask: <em>This is silly; why take on such a challenge?</em></p> 

						<p>Computers are simultaneously boosted and hindered by their rapid obsolescence. So while the line-mode browser is a mere 20 years old (as of the writing of this), it's only viewable (and barely usable) on the odd terminal here in the closet of CERN. We've come so far in so few years that we're on the cusp of not being able to interact with the very software that got us here. As folks who believe deeply in — and owe much to — the web, this pains us. In rebuilding / simulating this origin browser, we hope to achieve a few goals.</p>

						<p>First, we want to provide context for the web of today. From where did it come? Out of what did it grow? Despite being only 20 years old, the qualatative differences between then and now are shocking. It's nice to be able to time-travel back, at will, and remember our roots.</p>

						<p>Which brings us to the second reason: we want a version of the line-mode browser that anyone can run and, furthermore, point at contemporary websites. Our line-mode browser simulator not only allows you to view the first web pages ever placed online (on these very servers!), but will also render — as accurately as possible — any other website to which it's pointed. It may not always be pretty, but it's usually entertaining. (And heck, the web was never really meant to be that pretty, right?<sup>1</sup>)</p>


						<h3>Our Rules</h3>

						<p>In simulating the line-mode browser, we had a couple of rules.</p>

						<p>We wanted to be as true to the original rendering engine as possible. That meant not adding features or improving the display of elements in any way different than the original.</p>
						<p>[[other rules]]</p>


						<h3>What tech did we use?</h3>
						<p>Basically: We wrote an old browser in a new browser. Here's the details.</p>

						<p>The approach we centered on was to use a proxy Node server. This allowed us to request arbitrary web resources (we’d run into CORS problems with many sites).</p> 

						<p>In the node app, we manipulate the DOM, disabling scripts and style (linked, embedded and inline). But, importantly, we leave the script, link and style elements in place. <em>Why?</em> we hear you ask. Because, dear reader, the original line mode browser would display contents of those tags. Its parsing rule was to strip the start and end tags off unknown elements, but display their content inline. So it would display the content of style, link and script elements, but would not be affected by them, which is why we disabled them. It may look messy but we're being as true as possible to the way the line-mode browser worked.</p>
						
						<p>After the DOM was changed like this, we add the CSS and JavaScript for the emulation, then serialise the document back into a string, and then send this to the browser.</p>

						<p>The browser then parses the document, applies the CSS and runs the JavaScript, so you the user can experience the awesomeness that was the line mode browser.</p>

						<p>The CSS was used for 99% of the appearance of the document, with JavaScript used for some positional aspects. For example, JS runs the command line fixed to the bottom of the content. Techincally, this would be possible with CSS, but the required features, including viewport units aren’t supported across all widely used browsers.</p>

						<h3>What hacks did we use?</h3>
						<p>Hacks! We do not hack. OK, maybe we did some hacky things, but thankfully nothing particularly grubby.</p>
						<p>As mentioned, we used some JavaScript for calculating certain aspects of the page layout. We'd have preferred to have done this in pure CSS.</p>

						<h3>Will what we built today be usable in 10 years? </h3>
						<p>We hope so! One of the things we wanted to do is emulate how the line-mode browser would handle today’s web content. Even though, technically, the original line-mode terminals would choke on today's heavy pages — we're averaging about 1.2MB of content per page.</p>

						<p>But we think — are pretty certain — that this bundle of HTML, CSS and JavaScript will be usable for more than 10 years. At least we hope so!</p>

					</article>

					<div class="footnotes d-all">
						<h3>Footnotes</h3>
						<ol>
							<li>OK — that not <em>entirreeeeely</em> true. Remember how we said this wasn't the first browser? Well, the first browser was very pretty, and very graphical. It ran on the NeXT desktop and not only had style sheet support (!!) but also handled vector graphics.</li>
						</ol>
					</div>
				</section>
		</div>
		
		<footer>
			<p>For press enquiries, please contact the CERN press office at <a href="mailto:press@cern.ch">press@cern.ch</a></p>
			<hr/>
			<p><a href="http://cern.ch/copyright">© Copyright CERN 2013</a></p>
		
		</footer>
	
	</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-8058079-27']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>	
</body>
</html>